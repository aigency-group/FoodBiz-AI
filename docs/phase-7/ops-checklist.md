# 운영 체크리스트 v1.0

**작성일:** 2025-09-08  
**작성자:** PM (Agent-Orchestra)  
**상태:** Production Ready

이 문서는 FoodBiz-AI 애플리케이션의 운영 환경 배포 및 유지보수를 위한 체크리스트입니다.

## 🚀 배포 전 체크리스트

### 환경 설정
- [ ] **환경 변수 설정**
  - [ ] `SUPABASE_URL` 설정 및 검증
  - [ ] `SUPABASE_KEY` 설정 및 검증
  - [ ] `OPENAI_API_KEY` 설정 및 검증
  - [ ] `CORS_ORIGINS` 프로덕션 도메인으로 설정
  - [ ] `.env` 파일이 `.gitignore`에 포함되어 있는지 확인

- [ ] **Supabase 프로젝트 설정**
  - [ ] 프로덕션 Supabase 프로젝트 생성
  - [ ] 데이터베이스 스키마 배포 (`docs/phase-1/supabase-schema-draft.sql`)
  - [ ] Storage 버킷 생성 (`documents` 버킷)
  - [ ] RLS (Row Level Security) 정책 설정
  - [ ] API 키 권한 검토

- [ ] **도메인 및 SSL**
  - [ ] 프로덕션 도메인 설정
  - [ ] SSL 인증서 설치 및 검증
  - [ ] DNS 설정 확인

### 백엔드 배포
- [ ] **서버 환경**
  - [ ] Python 3.11+ 설치
  - [ ] 가상환경 생성 및 활성화
  - [ ] 의존성 설치 (`pip install -r requirements.txt`)
  - [ ] 서버 리소스 확인 (CPU, 메모리, 디스크)

- [ ] **애플리케이션 설정**
  - [ ] FastAPI 애플리케이션 시작 스크립트 작성
  - [ ] Gunicorn 또는 Uvicorn 워커 설정
  - [ ] 로그 디렉토리 생성 및 권한 설정
  - [ ] 프로세스 관리자 설정 (systemd, PM2 등)

- [ ] **모니터링 설정**
  - [ ] 헬스체크 엔드포인트 테스트 (`/health`)
  - [ ] 로그 수집 설정
  - [ ] 메트릭 수집 도구 설정 (선택사항)

### 프론트엔드 배포
- [ ] **빌드 및 배포**
  - [ ] 프로덕션 빌드 실행 (`npm run build`)
  - [ ] 빌드 결과물 검증
  - [ ] 정적 파일 서버 설정 (Nginx, Apache 등)
  - [ ] CDN 설정 (선택사항)

- [ ] **환경 설정**
  - [ ] API 엔드포인트 URL 프로덕션으로 변경
  - [ ] WebSocket URL 프로덕션으로 변경
  - [ ] SSE URL 프로덕션으로 변경

## 🔍 배포 후 검증 체크리스트

### 기능 테스트
- [ ] **인증 시스템**
  - [ ] 사용자 회원가입 테스트
  - [ ] 로그인/로그아웃 테스트
  - [ ] JWT 토큰 검증 테스트
  - [ ] 보호된 엔드포인트 접근 테스트

- [ ] **AI 챗봇**
  - [ ] RAG 쿼리 테스트
  - [ ] WebSocket 연결 테스트
  - [ ] 스트리밍 응답 테스트
  - [ ] 출처 정보 제공 테스트

- [ ] **대시보드**
  - [ ] KPI 데이터 로딩 테스트
  - [ ] 차트 렌더링 테스트
  - [ ] 시그널 인덱스 표시 테스트
  - [ ] 반응형 레이아웃 테스트

- [ ] **알림 시스템**
  - [ ] SSE 연결 테스트
  - [ ] 실시간 알림 수신 테스트
  - [ ] 알림 UI 표시 테스트

### 성능 테스트
- [ ] **응답 시간**
  - [ ] API 응답 시간 < 500ms
  - [ ] 페이지 로딩 시간 < 2초
  - [ ] WebSocket 연결 시간 < 100ms

- [ ] **동시 사용자**
  - [ ] 10명 동시 접속 테스트
  - [ ] 50명 동시 접속 테스트 (선택사항)
  - [ ] 메모리 사용량 모니터링

- [ ] **데이터베이스**
  - [ ] 쿼리 성능 확인
  - [ ] 연결 풀 설정 확인
  - [ ] 인덱스 최적화 확인

## 🔧 일상 운영 체크리스트

### 매일 확인사항
- [ ] **서비스 상태**
  - [ ] 애플리케이션 가동 상태 확인
  - [ ] 데이터베이스 연결 상태 확인
  - [ ] 외부 API (OpenAI, Supabase) 상태 확인
  - [ ] 에러 로그 검토

- [ ] **성능 모니터링**
  - [ ] CPU/메모리 사용률 확인
  - [ ] 디스크 사용률 확인
  - [ ] 네트워크 트래픽 확인
  - [ ] 응답 시간 모니터링

### 주간 확인사항
- [ ] **보안**
  - [ ] 보안 패치 적용 확인
  - [ ] API 키 만료일 확인
  - [ ] 접근 로그 검토
  - [ ] 의심스러운 활동 모니터링

- [ ] **데이터**
  - [ ] 데이터베이스 백업 확인
  - [ ] 로그 파일 정리
  - [ ] 사용자 데이터 정합성 확인
  - [ ] RAG 인덱스 업데이트 확인

### 월간 확인사항
- [ ] **성능 최적화**
  - [ ] 성능 메트릭 분석
  - [ ] 데이터베이스 쿼리 최적화
  - [ ] 캐시 효율성 검토
  - [ ] 코드 리팩토링 계획

- [ ] **용량 계획**
  - [ ] 사용자 증가율 분석
  - [ ] 데이터 증가율 분석
  - [ ] 서버 리소스 확장 계획
  - [ ] 비용 최적화 검토

## 🚨 장애 대응 체크리스트

### 장애 발생 시
1. **즉시 대응 (0-15분)**
   - [ ] 서비스 상태 확인
   - [ ] 에러 로그 확인
   - [ ] 영향 범위 파악
   - [ ] 임시 조치 (서비스 재시작 등)

2. **원인 분석 (15-60분)**
   - [ ] 로그 분석
   - [ ] 시스템 리소스 확인
   - [ ] 외부 의존성 확인
   - [ ] 코드 변경사항 검토

3. **복구 작업 (1-4시간)**
   - [ ] 핫픽스 배포
   - [ ] 데이터 복구 (필요시)
   - [ ] 서비스 복구
   - [ ] 기능 검증

4. **사후 처리 (1-3일)**
   - [ ] 장애 원인 분석 보고서 작성
   - [ ] 재발 방지 대책 수립
   - [ ] 모니터링 개선
   - [ ] 사용자 공지 (필요시)

### 주요 장애 시나리오
- [ ] **데이터베이스 연결 실패**
  - [ ] 연결 풀 설정 확인
  - [ ] 네트워크 연결 확인
  - [ ] 데이터베이스 서버 상태 확인

- [ ] **OpenAI API 장애**
  - [ ] API 키 유효성 확인
  - [ ] 사용량 한도 확인
  - [ ] 대체 모델 설정 (필요시)

- [ ] **Supabase 서비스 장애**
  - [ ] Supabase 상태 페이지 확인
  - [ ] 로컬 백업 데이터 활용 (필요시)
  - [ ] 서비스 복구 대기

- [ ] **메모리 부족**
  - [ ] 메모리 사용량 분석
  - [ ] 메모리 누수 확인
  - [ ] 서버 리소스 확장

## 📊 모니터링 도구 설정

### 필수 모니터링
- [ ] **애플리케이션 로그**
  - [ ] 로그 수집 도구 설정 (ELK Stack, Fluentd 등)
  - [ ] 로그 레벨 설정
  - [ ] 로그 로테이션 설정

- [ ] **시스템 메트릭**
  - [ ] CPU, 메모리, 디스크 모니터링
  - [ ] 네트워크 트래픽 모니터링
  - [ ] 데이터베이스 성능 모니터링

- [ ] **애플리케이션 메트릭**
  - [ ] API 응답 시간
  - [ ] 에러율
  - [ ] 사용자 활성도

### 알림 설정
- [ ] **이메일 알림**
  - [ ] 서비스 다운 알림
  - [ ] 에러율 임계값 초과 알림
  - [ ] 리소스 사용률 임계값 초과 알림

- [ ] **SMS/슬랙 알림**
  - [ ] 긴급 장애 알림
  - [ ] 보안 이벤트 알림

## 🔄 백업 및 복구

### 데이터 백업
- [ ] **데이터베이스 백업**
  - [ ] 일일 자동 백업 설정
  - [ ] 백업 파일 검증
  - [ ] 백업 파일 암호화
  - [ ] 오프사이트 백업 저장

- [ ] **애플리케이션 백업**
  - [ ] 소스 코드 백업 (Git)
  - [ ] 설정 파일 백업
  - [ ] 업로드된 문서 백업

### 복구 절차
- [ ] **데이터베이스 복구**
  - [ ] 백업 파일에서 복구 절차 문서화
  - [ ] 복구 시간 목표 설정 (RTO)
  - [ ] 데이터 손실 허용 범위 설정 (RPO)

- [ ] **애플리케이션 복구**
  - [ ] 재배포 절차 문서화
  - [ ] 롤백 절차 문서화
  - [ ] 의존성 복구 절차 문서화

## 📞 연락처 및 에스컬레이션

### 내부 팀
- **개발팀**: 기술적 이슈 해결
- **인프라팀**: 서버 및 네트워크 이슈
- **보안팀**: 보안 관련 이슈

### 외부 지원
- **Supabase**: 데이터베이스 및 인증 이슈
- **OpenAI**: AI 모델 관련 이슈
- **클라우드 제공업체**: 인프라 이슈

### 에스컬레이션 매트릭스
- **Level 1**: 일반 사용자 문의 → 고객지원팀
- **Level 2**: 기술적 이슈 → 개발팀
- **Level 3**: 심각한 장애 → 기술 리더
- **Level 4**: 보안 이슈 → 보안팀 + 경영진

---

**이 체크리스트는 정기적으로 검토하고 업데이트해야 합니다.**


